<!DOCTYPE html>
<html>
	<head>
		<title>TimeTracking</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css"/>
		<script type="text/javascript" src="js/jquery-2.2.2.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.js"></script>
		<script type="text/javascript" src="js/angular.min.js"></script>
		<script type="text/javascript" src="js/app.js"></script>
		<script type="text/javascript">
		   $(document).ready(function() {
			   $("#testbutton").on("click", function() {
	                $.get("jsonhandler", "command=allemployees", function(responseJson) {
	                    $("#output").text("");
	                    var $table = $("<table class=\"table\">").appendTo($("#output"));
	                    $.each(responseJson, function(index, employee) {
	                        $("<tr>").appendTo($table)
	                        .append($("<td>").text(employee.idEmpl)) 
	                        .append($("<td>").text(employee.idDep))
	                        .append($("<td>").text(employee.lastName))
	                        .append($("<td>").text(employee.firstName))
	                        .append($("<td>").text(employee.middleName))
	                        .append($("<td>").text(employee.position))
	                        .append($("<td>").text(employee.sex))
	                        .append($("<td>").text(employee.contactInfo));
	                    });
	                    
	                });
	                
	            });
			    $("#testbutton2").click(function() {
	                $.get("jsonhandler", "command=allemployeesfull", function(responseJson) {
	                    $("#output2").text("");
	                    var $table = $("<table class=\"table\">").appendTo($("#output2"));
	                    $.each(responseJson, function(index, employee) {
	                        $("<tr>").appendTo($table)
	                        .append($("<td>").text(employee.idEmpl)) 
	                        .append($("<td>").text(employee.lastName))
	                        .append($("<td>").text(employee.firstName))
	                        .append($("<td>").text(employee.middleName))
	                        .append($("<td>").text(employee.position))
	                        .append($("<td>").text(employee.sex))
	                        .append($("<td>").text(employee.contactInfo))
	                        .append($("<td>").text(employee.createdDate))
	                        .append($("<td>").text(employee.idTime))
	                        .append($("<td>").text(employee.timeTrackDate))
	                        .append($("<td>").text(employee.startTime))
	                        .append($("<td>").text(employee.endTime))
	                        .append($("<td>").text(employee.idDep))
	                        .append($("<td>").text(employee.depName))
	                        .append($("<td>").text(employee.depDescr));
	                    });
	                    
	                });
	                
	            });
		   
		   });
			
		  
			
		</script>
	</head>
	<body ng-app="myApp">
		<div class="container">
			<div class="jumbotron">
				<h1>Time tracking system</h1>
			</div>
			
			<div class="row">
				<div class="col-xs-6 col-md-6"><h3>The request returns all employees</h3>
					<p class="lead"></p>
				</div>
			</div>
			<div class="row">
				<button id="testbutton" type="submit" class="btn btn-primary col-xs-4 col-md-2" name="command" value="allemployees">Submit</button>
				<br>
				<br>
			</div>
			<div class="row">
				<div class="breadcrumb">
					<div id="output">this text should be replaced after button pressed.
					</div>
				</div>
			</div>
			
			<div class="row">
                <div class="col-xs-6 col-md-6"><h3>The request returns full info about employees</h3>
                    <p class="lead"></p>
                </div>
            </div>
            <div class="row">
                <button id="testbutton2" type="submit" class="btn btn-primary col-xs-4 col-md-2" name="command" value="allemployeesfull">Submit</button>
                <br>
                <br>
            </div>
            <div class="row">
                <div class="breadcrumb">
                    <div id="output2">this text should be replaced after button pressed.
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-xs-6 col-md-6"><h3>Another paragraph to test angular</h3>
                    <p class="lead"></p>
                </div>
            </div>
            
            <div class="row" ng-controller="mainController">
                <h1>{{ title }}</h1>
                <div class="breadcrumb" ng-repeat="employee in employees">
                    <div>{{ employee.name }}</div>
                    <div>{{ employee.age }}</div>
                    <div>{{ employee.description }}</div>
                </div>
            </div>
			
		</div>
	</body>
</html>